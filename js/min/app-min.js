var myApp=angular.module("myApp",[]);myApp.controller("myController",["$scope","$http",function(e,o){e.clicked=!1,e.scary=!1,e.notFound=!1,e.scaryThing="",e.requestedMovie="",e.lookUpMovie=function(){e.clicked=!0;var t={query:{bool:{must:e.requestedMovie.split(/\s+/).map(function(e){return{term:{title:e.toLowerCase()}}})}}},r="http://localhost:9200/movies/movies/_search";o.post(r,t).success(function(o,t,r,n){if(o.hits.hits.length>0){e.notFound=!1;var s=new RegExp(e.scaryThing,"gi");e.scary=o.hits.hits[0]._source.keywords.some(function(e){return-1!=e.search(s)}),e.returnedMovie=o.hits.hits[0]._source.title,e.returnedKeyword=e.scaryThing+"s"}else e.notFound=!0}).error(function(e,o,t,r){})["finally"](function(){})}}]);